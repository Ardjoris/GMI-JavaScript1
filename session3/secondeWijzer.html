<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    -->
<style>
        #canvas {
          /* //  background-image: C:\Librarys\klok.png; */
            border: solid
        }
</style>
</head>

<body>
    <h3>Dit is een seconde wijzer</h3>
    <!-- maak en canvas aan (een veld waarin je kunt tekenen met js) -->
    
<canvas id="canvas" width="500" height="400"></canvas>
</body>
<script>
    const c = document.querySelector("#canvas");                     //select canvas from DOM
    let ctx = c.getContext("2d");                                    //get access to the <canvas> tags 2D drawing functions
    ctx.translate(canvas.width / 2, canvas.height / 2);              //translate the center in the middle
    ctx.strokeStyle = "black"
    let gageLength = Math.min(canvas.width / 2, canvas.height / 2)   //set the length of the "hand"

    window.requestAnimationFrame(draw);

    function draw() {
            let date = new Date();
            let sec = date.getSeconds()                  // to start in the north
            radialsPerSecond= (2 * Math.PI) /60         // full circle = 2pi in 1 minute
            let secondsAngle = (radialsPerSecond*sec) - (Math.PI/2)  // - (Math.Pi/4) minus 90 degrees
            linePointToPoint(Math.cos (secondsAngle)*gageLength, Math.sin(secondsAngle)*gageLength)
            window.requestAnimationFrame(draw);
            console.log("sec",sec)
            
                if (sec == 0) {
                    ctx.clearRect(-canvas.width/2, -canvas.height/2, canvas.width, canvas.height)
                }
           
                
            }

      function linePointToPoint(x, y) {
        //   ctx.clearRect(-canvas.width/2, -canvas.height/2, canvas.width, canvas.height)
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(x, y);
            ctx.stroke();
            }
</script>

</html>
